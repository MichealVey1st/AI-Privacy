# AI Privacy editor (v2)

## Overview
This version introduces several improvements and new features, focusing on modularity and flag-based functionality selection. The goal of this update was to:
- Enable toggling specific functionalities through command-line flags.
- Transition from YOLO to Google MediaPipe for face detection.
- Lay the groundwork for additional privacy-related features.

## Key Changes in v2
1. **Face Detection and Blurring**:
   - Switched from YOLO to MediaPipe for face detection.
   - Blurring is applied using a Gaussian Blur on detected face regions.
   - The detection accuracy and handling of face direction/distance were less effective compared to YOLO.

2. **Flag-Based Control**:
   - Users can now select specific functionalities using command-line arguments:
     - `-f` or `--blur-faces`: Enable face blurring.
     - `-d` or `--modify-voices`: Enable voice modification (placeholder).
     - `-s` or `--blur-signs`: Enable sign/license plate blurring (placeholder).
     - `-m` or `--overwrite-metadata`: Enable metadata overwriting (placeholder).

3. **Batch Processing**:
   - Supports processing all videos in an input folder with results saved to an output folder.
   - Progress tracked with `tqdm` for better user experience.

4. **Main Functionality Focus**:
   - Development currently emphasizes core functionality (face blurring).
   - Addressing issues like CUDA support for OpenCV and retaining audio are deferred to later iterations.

## Features
- **Face Blurring**:
  - Detects faces using MediaPipe's Face Detection module.
  - Applies Gaussian blur to detected regions.
- **Future Extensions** (placeholders in v2):
  - **Voice Modification**: Detect and modify individual speakers' voices.
  - **Sign Blurring**: Blur sensitive signs (e.g., street names, license plates).
  - **Metadata Overwriting**: Replace metadata with fake or blank values.

## Known Issues
1. **Face Detection Accuracy**:
   - MediaPipe's performance is currently inferior to YOLO for handling face direction and distance.
2. **CUDA Support**:
   - OpenCV CUDA support not implemented due to compilation challenges.
3. **Audio Handling**:
   - Audio tracks are not retained in the output video.
4. **Granular Control**:
   - Features like selecting specific faces for blurring are not yet implemented.

## Usage
### Command-Line Arguments
Run the script with the following options:

```bash
python main.py [options]
```